{% extends "base.html.twig" %}

{% block title 'GÃ©rer les utilisateurs' %}

{% block body %}

	{% include 'flashes.html.twig' %}

	{# Recherche #}
	<!-- Content Row -->
	<div class="row">

		<!-- Area Chart -->
		<div class="col-xl-12 col-lg-12">
			<div class="card shadow mb-4">

				<!-- Card Header -->
				<div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
					<h6 class="m-0 font-weight-bold text-primary">{% trans %}Search{% endtrans %}</h6>
				</div>

				<!-- Card Body - search options -->
				<div class="card-body">

					{{ form_start(form) }}
						{{ form_widget(form) }}
						<button type="submit" class="btn-primary btn">{% trans %}Search{% endtrans %}</button>
					{{ form_end(form) }}

				</div>

			</div>
		</div>

	</div>


	{# liste #}
	<!-- Content Row -->
	<div class="row">

		<!-- Area Chart -->
		<div class="col-xl-12 col-lg-12">
			<div class="card shadow mb-4">

				<!-- Card Header -->
				<div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
					<h6 class="m-0 font-weight-bold text-primary">{% trans %}Manage users{% endtrans %}</h6>
				</div>

				<!-- Card Body - search options -->
				<div class="card-body">

					<table class="table table-striped">
						<thead>
						<tr>
							<th class="">{% trans %}User{% endtrans %}</th>
							<th>{% trans %}Activation{% endtrans %}</th>
							<th>{% trans %}Actions{% endtrans %}</th>
						</tr>
						</thead>
						<tbody>

						{% for user in users %}
							<tr>
								<td>{{ user.username }} : {{ user.rolesString }}</td>
								<td>{% if user.activate %} {% trans %}Enable{% endtrans %} {% else %} {% trans %}Disabled{% endtrans %} {% endif %}</td>
								<td>
									<a href="{{ path('usermanager.user.edit', {id: user.id}) }}" class="btn btn-secondary">{% trans %}Edit{% endtrans %}</a>
								</td>
							</tr>
						{% endfor %}

						</tbody>
					</table>

				</div>

			</div>

		</div>

	</div>

{% endblock %}
